"0","options(stringsAsFactors = FALSE)"
"0","# Sys.setlocale(""LC_TIME"", ""english_united kingdom.1252"")"
"0","output_directory <- """""
"0","### Load packages and functions"
"0","require(JM)"
"2","Loading required package: JM
"
"2","Loading required package: MASS
"
"2","Loading required package: nlme
"
"2","Loading required package: splines
"
"2","Loading required package: survival
"
"0","require(survival)"
"0","require(survminer)"
"2","Loading required package: survminer
"
"2","Loading required package: ggplot2
"
"2","Loading required package: ggpubr
"
"2","Loading required package: magrittr
"
"0","library(tidyverse)"
"2","[37mâ”€â”€ [1mAttaching packages[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.2.1 â”€â”€[39m
"
"2","[37m[32mâœ”[37m [34mtibble [37m 2.0.1     [32mâœ”[37m [34mpurrr  [37m 0.2.5
[32mâœ”[37m [34mtidyr  [37m 0.8.2     [32mâœ”[37m [34mdplyr  [37m 0.7.8
[32mâœ”[37m [34mreadr  [37m 1.3.1     [32mâœ”[37m [34mstringr[37m 1.3.1
[32mâœ”[37m [34mtibble [37m 2.0.1     [32mâœ”[37m [34mforcats[37m 0.3.0[39m
"
"2","[37mâ”€â”€ [1mConflicts[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
[31mâœ–[37m [34mdplyr[37m::[32mcollapse()[37m  masks [34mnlme[37m::collapse()
[31mâœ–[37m [34mtidyr[37m::[32mextract()[37m   masks [34mmagrittr[37m::extract()
[31mâœ–[37m [34mdplyr[37m::[32mfilter()[37m    masks [34mstats[37m::filter()
[31mâœ–[37m [34mdplyr[37m::[32mlag()[37m       masks [34mstats[37m::lag()
[31mâœ–[37m [34mdplyr[37m::[32mselect()[37m    masks [34mMASS[37m::select()
[31mâœ–[37m [34mpurrr[37m::[32mset_names()[37m masks [34mmagrittr[37m::set_names()[39m
"
"0","library(broom)"
"0","library(scales)"
"2","
Attaching package: â€˜scalesâ€™

"
"2","The following object is masked from â€˜package:purrrâ€™:

    discard

"
"2","The following object is masked from â€˜package:readrâ€™:

    col_factor

"
"0","library(parallel)"
"0","library(grid)"
"0","library(knitr)"
"0","library(rmarkdown)"
"0","library(kableExtra)"
"0","library(gganimate)"
"0","options(gganimate.dev_args = list(width = 800, height = 450))"
"0","library(ggrepel)"
"0","library(ggraph)"
"0","devtools::source_url('https://github.com/mcanouil/DEV/raw/master/R/theme_black.R')"
"2","SHA-1 hash of file is 864eaf0b7e3eaf41e4bfe75d76a5e1a52ba94b33
"
"0","devtools::source_url('https://github.com/mcanouil/DEV/raw/master/R/pretty_kable.R')"
"2","SHA-1 hash of file is 6db4775660f7a0cf25735b63e8edc837a7771ee3
"
"0","devtools::source_url('https://github.com/mcanouil/DEV/raw/master/R/ggmanhattan.R')"
"2","SHA-1 hash of file is 924d865ec8b482326d1cd6b4acb71119d062a491
"
"0","devtools::source_url('https://github.com/mcanouil/DEV/raw/master/joint_model/jointModelSimulation.R')"
"2","SHA-1 hash of file is bfab4d2346017c2eb177d5b7251157b06d1a6c2f
"
"0","options(""width"" = 80)"
"0","### Set knitr rmarkdown chunk options"
"0","opts_chunk$set("
"0","  include = TRUE,"
"0","  echo = FALSE,"
"0","  warning = FALSE,"
"0","  message = FALSE,"
"0","  eval = params$eval,"
"0","  tidy = FALSE,"
"0","  crop = TRUE,"
"0","  autodep = TRUE,"
"0","  dpi = 120,"
"0","  fig.path = ""./images/"","
"0","  cache = TRUE,"
"0","  # cache.path = NULL,"
"0","  width = 80,"
"0","  comment = ""#>"","
"0","  results = ""asis"","
"0","  fig.height = 3.375, # floor(10/3 * 10)/10* 0.9, "
"0","  fig.width = 6 # floor(16/9 * 10/3 *10)/10 * 0.9"
"0",")"
"0","### Define theme"
"0","theme_set(theme_black(base_size = 14))"
"0","# options(tibble.print_max = 3, tibble.print_min = 3)"
"0","### Get data"
"0","# file.copy("
"0","#   from = ""/disks/DATATMP/DESIR_longitudinal/ArticleR/MetaboChip_T2D.annot.Rdata"", "
"0","#   to = ""data/MetaboChip_T2D.annot.Rdata"""
"0","# )"
"0","load(file = ""data/MetaboChip_T2D.annot.Rdata"")"
"0","# jm_data <- new.env()"
"0","# load(file = ""/disks/DATATMP/DESIR_longitudinal/ArticleR/DataArticle_20180417.Rdata"", envir = jm_data)"
"0","# rm("
"0","#   list = setdiff(ls(jm_data), c(""rawsettings"", ""bestEffect"", ""simuDtaRMSE"", ""sprof"", ""p.estimateJM.sign"")), "
"0","#   envir = jm_data"
"0","# )"
"0","# save(jm_data, file = ""data/DataArticle_20180417.Rdata"")"
"0","load(file = ""data/DataArticle_20180417.Rdata"")"
"0","### Some functions"
"0","format_scientific <- function(x, digits = 3) {"
"0","  y <- format(x, scientific = -1, digits = digits)"
"0","  if (length(grep(""e"", y)) != 0) {"
"0","    return("
"0","      paste0("
"0","        gsub(""e.*"", """", format(x, scientific = -1, digits = digits)), "
"0","        ""\\times 10^{"", "
"0","        gsub("".*e"", """", format(x, scientific = -1, digits = digits)), ""}"""
"0","      )"
"0","    )"
"0","  } else {"
"0","    return(y)"
"0","  }"
"0","}"
"0","my_trans <- function () {"
"0","  trans_new("
"0","    name = ""my"", "
"0","    transform = function(x){sqrt(abs(x))*sign(x)}, "
"0","    inverse = function(x) {(x^2)*sign(x)}, "
"0","    domain = c(-Inf, Inf)"
"0","  )"
"0","}"
"0","sqrt_zero_trans <- function() {"
"0","  trans_new("
"0","    name = ""sqrt_zero"","
"0","    transform = base::sqrt,"
"0","    inverse = function(x) ifelse(x==0, 0, x^2),"
"0","    domain = c(0, Inf)"
"0","  )"
"0","}"
